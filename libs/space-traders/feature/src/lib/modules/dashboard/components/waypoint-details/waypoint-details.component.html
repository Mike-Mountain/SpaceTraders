<section class="waypoint-details">
  <div class="card card-primary" *ngIf="waypoint$ | async as waypoint">
    <div class="card-header">
      <img [ngSrc]="waypoint.type | getPlanetImage" alt="" [width]="(66 / 2) + 66" [height]="(50 / 2) + 50">
      <h3 class="card-header-title">{{waypoint.symbol}}</h3>
    </div>
    <div class="card-content" *ngIf="waypoint.traits">
      <h4 class="text-center" *ngIf="waypoint.faction">{{waypoint.faction.symbol}}</h4>
      <div class="flex-between flex-wrap">
        <ng-container *ngFor="let trait of waypoint.traits">
          <button
            *ngIf="waypoint.systemSymbol && waypoint.symbol"
            class="tag is-info"
            [class.is-success]="selectedTrait?.symbol === trait.symbol"
            (click)="selectTrait(waypoint.systemSymbol, waypoint.symbol, trait)"
          >{{trait.name}}</button>
        </ng-container>
      </div>

      <div class="card card-info mt-4" *ngIf="selectedTrait">
        <div class="card-content">
          <p>{{selectedTrait.description}}</p>
          <hr class="dropdown-divider" *ngIf="marketDetails$">
          <!--// TODO: Create market details component-->
          <p *ngIf="marketDetails$">{{(marketDetails$ | async) | json}}</p>
        </div>
      </div>
    </div>
  </div>
</section>
